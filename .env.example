# ERC4626 Transaction Indexer Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Blockchain RPC endpoint URL
# Examples:
#   - Alchemy: https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
#   - Infura: https://mainnet.infura.io/v3/YOUR_PROJECT_ID
#   - Ankr: https://rpc.ankr.com/eth
RPC_URL=https://your-rpc-endpoint-here

# ClickHouse database connection URL
# Examples:
#   - Local: http://localhost:8123
#   - ClickHouse Cloud: https://your-instance.clickhouse.cloud:8443
CLICKHOUSE_URL=https://your-clickhouse-instance

# =============================================================================
# OPTIONAL DATABASE CONFIGURATION
# =============================================================================

# ClickHouse authentication (username:password)
# Leave empty if no authentication required
CLICKHOUSE_AUTH=username:password

# ClickHouse database name
# Default: erc
CLICKHOUSE_DB=erc

# =============================================================================
# BLOCKCHAIN CONFIGURATION
# =============================================================================

# Blockchain network to index
# Options: mainnet, sepolia
# Default: mainnet
CHAIN=mainnet

# ERC4626 vault contract address to index
# Default: 0x8eB67A509616cd6A7c1B3c8C21D48FF57df3d458 (example vault)
VAULT=0x8eB67A509616cd6A7c1B3c8C21D48FF57df3d458

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Number of blocks to process in each batch/chunk
# Larger values = faster processing but more memory usage
# Smaller values = slower but more reliable
# Default: 5000
CHUNK_BLOCKS=5000

# Maximum block range for getLogs RPC calls
# Must stay under your RPC provider's limit (usually 5000-10000)
# Default: 5000
MAX_RANGE=5000

# Minimum block range before giving up on retries
# Default: 512
MIN_RANGE=512

# Delay between API requests in milliseconds
# Higher values = slower but more respectful to rate limits
# Lower values = faster but may hit rate limits
# Default: 900
SLEEP_MS=900

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level for console output
# Options: debug, info, warn, error, silent
# - debug: Show all logs including RPC calls, SQL queries, cache hits
# - info: Show important events, progress, errors (recommended for production)
# - warn: Show only warnings and errors
# - error: Show only errors
# - silent: No output
# Default: info
LOG_LEVEL=info

# Disable colored output (useful for log files or CI environments)
# Uncomment to disable colors
# NO_COLOR=1

# =============================================================================
# EXAMPLE CONFIGURATIONS
# =============================================================================

# Example for mainnet with Alchemy:
# RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
# CLICKHOUSE_URL=https://your-instance.clickhouse.cloud:8443
# CLICKHOUSE_AUTH=default:your_password
# CHAIN=mainnet
# VAULT=0x8eB67A509616cd6A7c1B3c8C21D48FF57df3d458
# LOG_LEVEL=info

# Example for sepolia testnet:
# RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY
# CLICKHOUSE_URL=http://localhost:8123
# CHAIN=sepolia
# VAULT=0x1234567890123456789012345678901234567890
# LOG_LEVEL=debug

# Example for high-performance indexing:
# CHUNK_BLOCKS=10000
# MAX_RANGE=10000
# SLEEP_MS=500
# LOG_LEVEL=warn

# Example for conservative/reliable indexing:
# CHUNK_BLOCKS=1000
# MAX_RANGE=1000
# SLEEP_MS=1500
# LOG_LEVEL=info